"Name"     = 'TODO: MyLanguage Grammar'
"Author"   =  'TODO: List of Authors'
"Version"  = '0.1'
"About"    = 'TODO: MyLanguage Grammar,'

"Case Sensitive" = True
"Start Symbol" = <Program>

! Reference: http://www.goldparser.org/doc/grammars/index.htm

! =================================================
! Character Sets
! =================================================

{ID Head}       = {Letter}
{ID Tail}       = {Alphanumeric} + [_]

{String Chars}  = {Printable} + {AlphaNumeric} - ["\]

! =================================================
! Terminals
! =================================================

Identifier      = {ID Head}{ID Tail}*

! =================================================
! Comments
! =================================================

Comment Start   = '/*'
Comment End     = '*/'
Comment Line    = '//'

! =================================================
! Rules
! =================================================

! -------------------------------------------------
! Function, Procedure and Start Declaration
! -------------------------------------------------

<Function Declaration>  ::= 'function' <FuncID> '(' <Params> ')' <Block>
                        | 'function' <FuncID> '(' ')' <Block>

<Procedure Declaration> ::= 'procedure' <ProcID> '(' <Params> ')' <Block>
                        | 'procedure' <ProcID> '(' ')' <Block>
                                               
<Start Declaration>     ::= 'start' '(' ')' <Block>

<Block>     ::= '{' <Statement List> '}'
            | '{' '}'

<FuncID>    ::= <Type> Identifier

<ProcID>    ::= Identifier

<Params>    ::= <Param> ',' <Params>
            | <Param>

<Param>      ::= <Type> Identifier

! -------------------------------------------------
! Base and Statments
! -------------------------------------------------

<Program>       ::= <Declarations>

<Declarations>  ::= <Declaration> <Declarations>
                | <Declaration> ! TODO: Verificar situação que o programa não tem declarações

<Declaration>   ::= <Function Declaration>
                | <Procedure Declaration>
                | <Start Declaration>

<Statement List>    ::= <Statement> 
                    | <Statement> <Statement List>

<Statement> ::= <Normal Statement> ! TODO: Colocar os outros Statements aqui

<Normal Statement>  ::= <Expression> ';' 
                    | <Return Statement>

<Return Statement>  ::= 'return' ';'
                    | 'return' <Expression> ';'

! -------------------------------------------------
! Types
! -------------------------------------------------

<Type>      ::= <Scalar>
            | struct Identifier

<Scalar>    ::= int
            | float
            | bool
            | string

! -------------------------------------------------
! Operator Precedence
! -------------------------------------------------

<Expression>    ::= <Op Assign> ',' <Expression> ! TODO: Change <Value> to the next level of precedence
                | <Op Assign> ! TODO: Change <Value> to the next level of precedence

<Op Assign>     ::= <Value> '=' <Value>
                | <Value>

! TODO: Levels of operator precedence.


! <Value> must be the last level of precedence
<Value> ::= Identifier '(' <Expression> ')' ! Function with params
            | Identifier '(' ')' ! Function without params
            | Identifier ! Simple param